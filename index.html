<html>
<head>

    <title>Katterna</title>
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

    <script>
    </script>

</head>

<body id="main_window">

    <div id="info_cliff">
    Cliff born 2020-10-19

    </div>

<div id="info_yoda">
    Yoda born 2020-10-19

</div>

    <div id="update_info">
        init
    </div>

    <div id="detail_info">
        init
    </div>

</body>

<script>

    var infoBox = document.getElementById('update_info');
    var detailBox = document.getElementById('detail_info');

    infoBox.innerHTML = 'Tv√• fina katter';

    detailBox.innerHTML = 'details here';

    var time = 0;
    var isHungry = false;
    var isHungryMessage = 'yoda hungry state is: '
    var bellyIsEmpty = false;
    var bellyFoodYoda = 10;
    var yodaMeowness = 0;
    var yodaEatsAmountFood = 5;


    function checkTheBellyForHungry(foodInBelly){
        if(foodInBelly < 6) {
            return true;
        } else {
            return false
        }
    };

    function putFoodInBelly(addFood, foodInBelly) {
        foodInBelly = addFood+foodInBelly;
        return foodInBelly
    };

    function makeMatteFeedMe(meowness, addFood, foodInBelly) {
        if (meowness > 1) {
            foodInBelly = putFoodInBelly(addFood, foodInBelly)
        }
        return foodInBelly
    };

    var updateYoda = function updateCreature() {

        bellyFoodYoda = bellyFoodYoda-0.1;
        yodaMeowness = yodaMeowness+Math.random()*0.03;

        if (isHungry) {
            bellyFoodYoda = makeMatteFeedMe(yodaMeowness, yodaEatsAmountFood, bellyFoodYoda);
            isHungry = checkTheBellyForHungry(bellyFoodYoda);
            if (isHungry === false) {
                yodaMeowness = 0;
            }
        }

        isHungry = checkTheBellyForHungry(bellyFoodYoda);

    };


    function updateFrame() {
        requestAnimationFrame(updateTime)
    }

    var updateTime = function() {

        if (time < 200000) {

            detailBox.innerHTML = isHungryMessage+isHungry;

            infoBox.innerHTML = 'time: '+time+' Food in Yodas belly: '+bellyFoodYoda+' Meowness: '+yodaMeowness;

            updateYoda();
        }

        time = time+1;
        updateFrame()
    }


    updateTime()



</script>

</html>
